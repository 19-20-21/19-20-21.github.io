


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.3">
    
    
      
        <title>13.2 函数模板的实例化 - LearnCPP 中文教程</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.947af8d5.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#132" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="LearnCPP 中文教程" class="md-header-nav__button md-logo" aria-label="LearnCPP 中文教程">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            LearnCPP 中文教程
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              13.2 函数模板的实例化
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="LearnCPP 中文教程" class="md-nav__button md-logo" aria-label="LearnCPP 中文教程">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    LearnCPP 中文教程
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="目录" class="md-nav__link">
      目录
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      0 Introduction getting started
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="0 Introduction getting started" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        0 Introduction getting started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../0-Introduction-getting-started/" title="第零章 介绍/起步" class="md-nav__link">
      第零章 介绍/起步
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../0-Introduction-getting-started/0.1-Introduction-to-these-tutorials/" title="0.1 教程介绍" class="md-nav__link">
      0.1 教程介绍
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      12 virtual functions
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="12 virtual functions" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        12 virtual functions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../12-virtual-functions/" title="第十二章 虚函数" class="md-nav__link">
      第十二章 虚函数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../12-virtual-functions/12.7-virtual-base-classes/" title="12.7 虚基类 (Virtual base classes)" class="md-nav__link">
      12.7 虚基类 (Virtual base classes)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../12-virtual-functions/12.8-object-slicing/" title="12.8 对象切割" class="md-nav__link">
      12.8 对象切割
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../12-virtual-functions/12.9-dynamic-casting/" title="12.9动态类型转换" class="md-nav__link">
      12.9动态类型转换
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../12-virtual-functions/12.x%20chapter-12-comprehensice-quiz/" title="12.x 十二章理解和练习" class="md-nav__link">
      12.x 十二章理解和练习
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      13 templates
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="13 templates" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        13 templates
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="十三章 模板" class="md-nav__link">
      十三章 模板
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../13.1-function-templates/" title="13.1 函数模板 Function templates" class="md-nav__link">
      13.1 函数模板 Function templates
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="./" title="13.2 函数模板的实例化" class="md-nav__link md-nav__link--active">
      13.2 函数模板的实例化
    </a>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../13.3-template-classes/" title="13.3 模板类" class="md-nav__link">
      13.3 模板类
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../13.4-template-non-type-parameters/" title="13.4 模板非类型参数" class="md-nav__link">
      13.4 模板非类型参数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../13.5-function-template-specialization/" title="13.5 函数模板特化" class="md-nav__link">
      13.5 函数模板特化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../13.7-partial-template-specialization/" title="13.7 局部模板特化" class="md-nav__link">
      13.7 局部模板特化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../13.8-partial-template-specialization-for-pointers/" title="13.8 指针的局部模板特化" class="md-nav__link">
      13.8 指针的局部模板特化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../13.x%20chapter-13-comprehensice-quiz/" title="13.x 十三章理解和练习" class="md-nav__link">
      13.x 十三章理解和练习
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      14 exceptions
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="14 exceptions" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        14 exceptions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../14-exceptions/" title="14 异常" class="md-nav__link">
      14 异常
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../14-exceptions/14.1-the-need-for-exceptions/" title="14.1 为什么需要异常" class="md-nav__link">
      14.1 为什么需要异常
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../14-exceptions/14.2-basic-exception-handloing/" title="14.2 基本异常处理" class="md-nav__link">
      14.2 基本异常处理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../14-exceptions/14.3-exceptions-functions-and-stack-unwinding/" title="14.3 异常，函数，栈展开" class="md-nav__link">
      14.3 异常，函数，栈展开
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../14-exceptions/14.4-uncaught-exceptions-catch-all-handlers-and-exception-specifiers/" title="14.4 未捕获异常，捕获全部异常和异常说明符" class="md-nav__link">
      14.4 未捕获异常，捕获全部异常和异常说明符
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../14-exceptions/14.5-exceptions-classes-and-inheritance/" title="14.5 异常，类和继承" class="md-nav__link">
      14.5 异常，类和继承
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../14-exceptions/14.6-rethrowing-exceptions/" title="14.6 异常的再抛出" class="md-nav__link">
      14.6 异常的再抛出
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../14-exceptions/14.7-function-try-blocks/" title="14.7 函数级的 try 代码块" class="md-nav__link">
      14.7 函数级的 try 代码块
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../14-exceptions/14.8-exception-dangers-and-downsides/" title="14.8 异常的危险和缺点" class="md-nav__link">
      14.8 异常的危险和缺点
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      15 move semantics and smart pointers
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="15 move semantics and smart pointers" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        15 move semantics and smart pointers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../15-move-semantics-and-smart-pointers/" title="15 移动语义和智能指针" class="md-nav__link">
      15 移动语义和智能指针
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../15-move-semantics-and-smart-pointers/15.1-intro-to-smart-pointers-and-move-semantics/" title="15.1 智能指针和移动语义的介绍" class="md-nav__link">
      15.1 智能指针和移动语义的介绍
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../15-move-semantics-and-smart-pointers/15.2-r-value-reference/" title="15.2 右值引用" class="md-nav__link">
      15.2 右值引用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../15-move-semantics-and-smart-pointers/15.3-move-constructors-and-move-assignment/" title="15.3 移动构造和移动赋值" class="md-nav__link">
      15.3 移动构造和移动赋值
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../15-move-semantics-and-smart-pointers/15.4-std%3A%3Amove/" title="15.4 std::move" class="md-nav__link">
      15.4 std::move
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../15-move-semantics-and-smart-pointers/15.5-std%3A%3Aunique_ptr/" title="15.5 std::unique_ptr" class="md-nav__link">
      15.5 std::unique_ptr
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../15-move-semantics-and-smart-pointers/15.6-std%3A%3Ashared_ptr/" title="15.6 std::shared_ptr" class="md-nav__link">
      15.6 std::shared_ptr
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../15-move-semantics-and-smart-pointers/15.7-std%3A%3Aweak_ptr/" title="15.7 std::shared_ptr 的循环依赖问题，介绍 std::weak_ptr" class="md-nav__link">
      15.7 std::shared_ptr 的循环依赖问题，介绍 std::weak_ptr
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      18 input and output
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="18 input and output" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        18 input and output
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../18-input-and-output/18.1-input-and-output-streams/" title="18.1 - 输入输出流" class="md-nav__link">
      18.1 - 输入输出流
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="132">13.2 函数模板的实例化<a class="headerlink" href="#132" title="Permanent link">&para;</a></h1>
<!-- 13.2 — Function template instances -->

<p>It’s worth taking a brief look at how template functions are implemented in C++, because future lessons will build off of some of these concepts. It turns out that C++ does not compile the template function directly. Instead, at compile time, when the compiler encounters a call to a template function, it replicates the template function and replaces the template type parameters with actual types. The function with actual types is called a function template instance.</p>
<p>Let’s take a look at an example of this process. First, we have a templated function:</p>
<div class="highlight"><pre><span></span><code><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span> <span class="c1">// this is the template parameter declaration</span>
<span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">max</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">y</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span> <span class="o">?</span> <span class="nl">x</span> <span class="p">:</span> <span class="n">y</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>When compiling your program, the compiler encounters a call to the templated function:</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span> <span class="n">i</span><span class="p">{</span> <span class="n">max</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="p">};</span> <span class="c1">// calls max(int, int)</span>
</code></pre></div>

<p>The compiler says, “oh, we want to call max(int, int)”. The compiler replicates the function template and creates the template instance max(int, int):</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">max</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span> <span class="o">?</span> <span class="nl">x</span> <span class="p">:</span> <span class="n">y</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>This is now a “normal function” that can be compiled into machine language.</p>
<p>Now, let’s say later in your code, you called max() again using a different type:</p>
<div class="highlight"><pre><span></span><code><span class="kt">double</span> <span class="n">d</span><span class="p">{</span> <span class="n">max</span><span class="p">(</span><span class="mf">6.34</span><span class="p">,</span> <span class="mf">18.523</span><span class="p">)</span> <span class="p">};</span> <span class="c1">// calls max(double, double)</span>
</code></pre></div>

<p>C++ automatically creates a template instance for max(double, double):</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span> <span class="kt">double</span><span class="o">&amp;</span> <span class="n">max</span><span class="p">(</span><span class="k">const</span> <span class="kt">double</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="k">const</span> <span class="kt">double</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span> <span class="o">?</span> <span class="nl">x</span> <span class="p">:</span> <span class="n">y</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>and then compiles it.</p>
<p>The compiler is smart enough to know it only needs to create one template instance per set of unique type parameters (per file). It’s also worth noting that if you create a template function but do not call it, no template instances will be created.</p>
<p>Operators, function calls, and function templates</p>
<p>Template functions will work with both built-in types (e.g. char, int, double, etc…) and classes, with one caveat. When the compiler compiles the template instance, it compiles it just like a normal function. In a normal function, any operators or function calls that you use with your types must be defined, or you will get a compiler error. Similarly, any operators or function calls in your template function must be defined for any types the function template is instantiated for. Let’s take a look at this in more detail.</p>
<p>First, we’ll create a simple class:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Cents</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">m_cents</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">Cents</span><span class="p">(</span><span class="kt">int</span> <span class="n">cents</span><span class="p">)</span>
        <span class="o">:</span> <span class="n">m_cents</span><span class="p">{</span> <span class="n">cents</span> <span class="p">}</span>
    <span class="p">{</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>

<p>Now, let’s see what happens when we try to call our templated max() function with the Cents class:</p>
<div class="highlight"><pre><span></span><code><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span> <span class="c1">// this is the template parameter declaration</span>
<span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">max</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">y</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span> <span class="o">?</span> <span class="nl">x</span> <span class="p">:</span> <span class="n">y</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Cents</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">m_cents</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">Cents</span><span class="p">(</span><span class="kt">int</span> <span class="n">cents</span><span class="p">)</span>
        <span class="o">:</span> <span class="n">m_cents</span><span class="p">{</span> <span class="n">cents</span> <span class="p">}</span>
    <span class="p">{</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Cents</span> <span class="n">nickle</span><span class="p">{</span> <span class="mi">5</span> <span class="p">};</span>
    <span class="n">Cents</span> <span class="n">dime</span><span class="p">{</span> <span class="mi">10</span> <span class="p">};</span>

    <span class="n">Cents</span> <span class="n">bigger</span><span class="p">{</span> <span class="n">max</span><span class="p">(</span><span class="n">nickle</span><span class="p">,</span> <span class="n">dime</span><span class="p">)</span> <span class="p">};</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>C++ will create a template instance for max() that looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span> <span class="n">Cents</span><span class="o">&amp;</span> <span class="n">max</span><span class="p">(</span><span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span> <span class="o">?</span> <span class="nl">x</span> <span class="p">:</span> <span class="n">y</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>And then it will try to compile this function. See the problem here? C++ can’t evaluate x &gt; y, because x and y are Cents class objects, and doesn’t know how to compare them. Consequently, this will produce a fairly-tame looking compile error, like this:</p>
<div class="highlight"><pre><span></span><code><span class="m">1</span>&gt;c:<span class="se">\c</span>onsoleapplication1<span class="se">\m</span>ain.cpp<span class="o">(</span><span class="m">4</span><span class="o">)</span>: error C2676: binary <span class="s1">&#39;&gt;&#39;</span>: <span class="s1">&#39;const Cents&#39;</span> does not define this operator or a conversion to a <span class="nb">type</span> acceptable to the predefined operator
<span class="m">1</span>&gt;  c:<span class="se">\c</span>onsoleapplication1<span class="se">\m</span>ain.cpp<span class="o">(</span><span class="m">23</span><span class="o">)</span>: note: see reference to <span class="k">function</span> template instantiation <span class="s1">&#39;const T &amp;max(const T &amp;,const T &amp;)&#39;</span> being compiled
<span class="m">1</span>&gt;          with
<span class="m">1</span>&gt;          <span class="o">[</span>
<span class="m">1</span>&gt;              <span class="nv">T</span><span class="o">=</span>Cents
<span class="m">1</span>&gt;          <span class="o">]</span>
</code></pre></div>

<p>The top error message points out the fact that there is no overloaded operator &gt; for the Cents class. The bottom error points out the templated function call that spawned the error, along with the type of the templated parameter.</p>
<p>To get around this problem, simply overload the &gt; operator for any class we wish to use max() with:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Cents</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">m_cents</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">Cents</span><span class="p">(</span><span class="kt">int</span> <span class="n">cents</span><span class="p">)</span>
        <span class="o">:</span> <span class="n">m_cents</span><span class="p">{</span> <span class="n">cents</span> <span class="p">}</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="k">friend</span> <span class="kt">bool</span> <span class="k">operator</span><span class="o">&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">c1</span><span class="p">.</span><span class="n">m_cents</span> <span class="o">&gt;</span> <span class="n">c2</span><span class="p">.</span><span class="n">m_cents</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>

<p>Now C++ will know how to compare x &gt; y when x and y are objects of the Cents class! As a result, our max() function will now work with two objects of type Cents.</p>
<p>Another example</p>
<p>Let’s do one more example of a function template. The following function template will calculate the average of a number of objects in an array:</p>
<div class="highlight"><pre><span></span><code><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
<span class="n">T</span> <span class="n">average</span><span class="p">(</span><span class="n">T</span> <span class="o">*</span><span class="n">array</span><span class="p">,</span> <span class="kt">int</span> <span class="n">length</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">T</span> <span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">count</span><span class="p">{</span> <span class="mi">0</span> <span class="p">};</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="o">++</span><span class="n">count</span><span class="p">)</span>
        <span class="n">sum</span> <span class="o">+=</span> <span class="n">array</span><span class="p">[</span><span class="n">count</span><span class="p">];</span>

    <span class="n">sum</span> <span class="o">/=</span> <span class="n">length</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">Now</span> <span class="n">let</span><span class="err">’</span><span class="n">s</span> <span class="n">see</span> <span class="n">it</span> <span class="n">in</span> <span class="nl">action</span><span class="p">:</span>

<span class="err">```</span><span class="n">c</span><span class="o">++</span> 
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
<span class="n">T</span> <span class="n">average</span><span class="p">(</span><span class="n">T</span> <span class="o">*</span><span class="n">array</span><span class="p">,</span> <span class="kt">int</span> <span class="n">length</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">T</span> <span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">count</span><span class="p">{</span> <span class="mi">0</span> <span class="p">};</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="o">++</span><span class="n">count</span><span class="p">)</span>
        <span class="n">sum</span> <span class="o">+=</span> <span class="n">array</span><span class="p">[</span><span class="n">count</span><span class="p">];</span>

    <span class="n">sum</span> <span class="o">/=</span> <span class="n">length</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">array1</span><span class="p">[]{</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span> <span class="p">};</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">average</span><span class="p">(</span><span class="n">array1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>

    <span class="kt">double</span> <span class="n">array2</span><span class="p">[]{</span> <span class="mf">3.12</span><span class="p">,</span> <span class="mf">3.45</span><span class="p">,</span> <span class="mf">9.23</span><span class="p">,</span> <span class="mf">6.34</span> <span class="p">};</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">average</span><span class="p">(</span><span class="n">array2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">This</span> <span class="n">produces</span> <span class="n">the</span> <span class="nl">values</span><span class="p">:</span>

<span class="mi">3</span>
<span class="mf">5.535</span>

<span class="n">As</span> <span class="n">you</span> <span class="n">can</span> <span class="n">see</span><span class="p">,</span> <span class="n">it</span> <span class="n">works</span> <span class="n">great</span> <span class="k">for</span> <span class="n">built</span><span class="o">-</span><span class="n">in</span> <span class="n">types</span><span class="o">!</span>

<span class="n">It</span> <span class="n">is</span> <span class="n">worth</span> <span class="n">noting</span> <span class="n">that</span> <span class="n">because</span> <span class="n">our</span> <span class="k">return</span> <span class="n">type</span> <span class="n">is</span> <span class="n">the</span> <span class="n">same</span> <span class="n">templated</span> <span class="n">type</span> <span class="n">as</span> <span class="n">our</span> <span class="n">array</span> <span class="n">elements</span><span class="p">,</span> <span class="n">doing</span> <span class="n">an</span> <span class="n">integer</span> <span class="n">average</span> <span class="n">will</span> <span class="n">produce</span> <span class="n">an</span> <span class="n">integer</span> <span class="n">result</span> <span class="p">(</span><span class="n">dropping</span> <span class="n">any</span> <span class="n">fractional</span> <span class="n">value</span><span class="p">).</span> <span class="n">This</span> <span class="n">is</span> <span class="n">similar</span> <span class="n">to</span> <span class="n">how</span> <span class="n">doing</span> <span class="n">an</span> <span class="n">integer</span> <span class="n">division</span> <span class="n">will</span> <span class="n">produce</span> <span class="n">an</span> <span class="n">integer</span> <span class="n">result</span><span class="p">.</span> <span class="n">It</span><span class="err">’</span><span class="n">s</span> <span class="n">not</span> <span class="n">wrong</span> <span class="n">that</span> <span class="n">we</span><span class="err">’</span><span class="n">ve</span> <span class="n">defined</span> <span class="n">things</span> <span class="n">to</span> <span class="n">work</span> <span class="n">that</span> <span class="n">way</span><span class="p">,</span> <span class="n">but</span> <span class="n">it</span> <span class="n">may</span> <span class="n">be</span> <span class="n">unexpected</span><span class="p">,</span> <span class="n">so</span> <span class="n">a</span> <span class="n">good</span> <span class="n">comment</span> <span class="n">to</span> <span class="n">users</span> <span class="n">of</span> <span class="n">the</span> <span class="k">class</span> <span class="nc">wouldn</span><span class="err">’</span><span class="n">t</span> <span class="n">be</span> <span class="n">amiss</span> <span class="n">here</span><span class="p">.</span>

<span class="n">Now</span> <span class="n">let</span><span class="err">’</span><span class="n">s</span> <span class="n">see</span> <span class="n">what</span> <span class="n">happens</span> <span class="n">when</span> <span class="n">we</span> <span class="n">call</span> <span class="k">this</span> <span class="n">function</span> <span class="n">on</span> <span class="n">our</span> <span class="n">Cents</span> <span class="nl">class</span><span class="p">:</span>

<span class="err">```</span><span class="n">c</span><span class="o">++</span> 
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="k">class</span> <span class="nc">Cents</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">m_cents</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">Cents</span><span class="p">(</span><span class="kt">int</span> <span class="n">cents</span><span class="p">)</span>
        <span class="o">:</span> <span class="n">m_cents</span><span class="p">{</span> <span class="n">cents</span> <span class="p">}</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="k">friend</span> <span class="kt">bool</span> <span class="k">operator</span><span class="o">&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">c1</span><span class="p">.</span><span class="n">m_cents</span> <span class="o">&gt;</span> <span class="n">c2</span><span class="p">.</span><span class="n">m_cents</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
<span class="n">T</span> <span class="n">average</span><span class="p">(</span><span class="n">T</span> <span class="o">*</span><span class="n">array</span><span class="p">,</span> <span class="kt">int</span> <span class="n">length</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">T</span> <span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">count</span><span class="p">{</span> <span class="mi">0</span> <span class="p">};</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="o">++</span><span class="n">count</span><span class="p">)</span>
        <span class="n">sum</span> <span class="o">+=</span> <span class="n">array</span><span class="p">[</span><span class="n">count</span><span class="p">];</span>

    <span class="n">sum</span> <span class="o">/=</span> <span class="n">length</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Cents</span> <span class="n">array3</span><span class="p">[]{</span> <span class="n">Cents</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">Cents</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">Cents</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span> <span class="n">Cents</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span> <span class="p">};</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">average</span><span class="p">(</span><span class="n">array3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">The</span> <span class="n">compiler</span> <span class="n">goes</span> <span class="n">berserk</span> <span class="n">and</span> <span class="n">produces</span> <span class="n">a</span> <span class="n">ton</span> <span class="n">of</span> <span class="n">error</span> <span class="n">messages</span><span class="o">!</span>

<span class="n">example</span><span class="p">.</span><span class="n">cpp</span>

<span class="err">```</span><span class="n">bash</span>
<span class="p">(</span><span class="mi">33</span><span class="p">)</span><span class="o">:</span> <span class="n">error</span> <span class="nl">C2679</span><span class="p">:</span> <span class="n">binary</span> <span class="err">&#39;</span><span class="o">&lt;&lt;</span><span class="err">&#39;</span><span class="o">:</span> <span class="n">no</span> <span class="k">operator</span> <span class="n">found</span> <span class="n">which</span> <span class="n">takes</span> <span class="n">a</span> <span class="n">right</span><span class="o">-</span><span class="n">hand</span> <span class="n">operand</span> <span class="n">of</span> <span class="n">type</span> <span class="sc">&#39;T&#39;</span> <span class="p">(</span><span class="n">or</span> <span class="n">there</span> <span class="n">is</span> <span class="n">no</span> <span class="n">acceptable</span> <span class="n">conversion</span><span class="p">)</span>

        <span class="n">with</span>

        <span class="p">[</span>

            <span class="n">T</span><span class="o">=</span><span class="n">Cents</span>

        <span class="p">]</span>

<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">437</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">could</span> <span class="n">be</span> <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_streambuf</span><span class="o">&gt;</span> <span class="o">*</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">412</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">394</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="kt">long</span> <span class="kt">double</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">376</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">358</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">340</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kr">__int64</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">322</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="kr">__int64</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">304</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">286</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="kt">long</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">268</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">248</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">230</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">short</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">202</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="kt">short</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">184</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="kt">bool</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">179</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">ios_base</span> <span class="o">&amp;</span><span class="p">(</span><span class="kr">__cdecl</span> <span class="o">*</span><span class="p">)(</span><span class="n">std</span><span class="o">::</span><span class="n">ios_base</span> <span class="o">&amp;</span><span class="p">))</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">174</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ios</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">(</span><span class="kr">__cdecl</span> <span class="o">*</span><span class="p">)(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ios</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">))</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">169</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;::</span><span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">(</span><span class="kr">__cdecl</span> <span class="o">*</span><span class="p">)(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">))</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">613</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="k">operator</span> <span class="o">&lt;&lt;&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">,</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">658</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="k">operator</span> <span class="o">&lt;&lt;&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">,</span><span class="kt">char</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">694</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="k">operator</span> <span class="o">&lt;&lt;&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">,</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">739</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="k">operator</span> <span class="o">&lt;&lt;&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">,</span><span class="kt">char</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">858</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="k">operator</span> <span class="o">&lt;&lt;&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">,</span><span class="k">const</span> <span class="kt">signed</span> <span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">864</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="k">operator</span> <span class="o">&lt;&lt;&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">,</span><span class="kt">signed</span> <span class="kt">char</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">870</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="k">operator</span> <span class="o">&lt;&lt;&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">,</span><span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">876</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="k">operator</span> <span class="o">&lt;&lt;&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">,</span><span class="kt">unsigned</span> <span class="kt">char</span><span class="p">)</span><span class="err">&#39;</span>
<span class="nl">C</span><span class="p">:</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">msvc</span><span class="o">/</span><span class="mf">14.22.27905</span><span class="o">/</span><span class="n">include</span><span class="err">\</span><span class="n">ostream</span><span class="p">(</span><span class="mi">931</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="n">or</span>       <span class="err">&#39;</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">std</span><span class="o">::</span><span class="k">operator</span> <span class="o">&lt;&lt;&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">,</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">error_code</span> <span class="o">&amp;</span><span class="p">)</span><span class="err">&#39;</span>
<span class="p">(</span><span class="mi">33</span><span class="p">)</span><span class="o">:</span> <span class="nl">note</span><span class="p">:</span> <span class="k">while</span> <span class="n">trying</span> <span class="n">to</span> <span class="n">match</span> <span class="n">the</span> <span class="n">argument</span> <span class="n">list</span> <span class="err">&#39;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">ostream</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span><span class="err">&#39;</span>

        <span class="n">with</span>

        <span class="p">[</span>

            <span class="n">T</span><span class="o">=</span><span class="n">Cents</span>

        <span class="p">]</span>
</code></pre></div>

<p>Compiler returned: 2</p>
<p>Remember what I said about crazy error messages? We hit the motherlode! Despite looking intimidating, these are actually quite straightforward. The first line is telling you that it couldn’t find an overloaded operator&lt;&lt; for the Cents class. All of the lines in the middle are all of the different functions it tried to match with but failed. The last error points out the function call that spawned this wall of errors.</p>
<p>Remember that average() returns a Cents object, and we are trying to stream that object to std::cout using the &lt;&lt; operator. However, we haven’t defined the &lt;&lt; operator for our Cents class yet. Let’s do that:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Cents</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">m_cents</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">Cents</span><span class="p">(</span><span class="kt">int</span> <span class="n">cents</span><span class="p">)</span>
        <span class="o">:</span> <span class="n">m_cents</span><span class="p">{</span> <span class="n">cents</span> <span class="p">}</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="k">friend</span> <span class="kt">bool</span> <span class="k">operator</span><span class="o">&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">c1</span><span class="p">.</span><span class="n">m_cents</span> <span class="o">&gt;</span> <span class="n">c2</span><span class="p">.</span><span class="n">m_cents</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">friend</span> <span class="n">std</span><span class="o">::</span><span class="n">ostream</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">out</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">cents</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">out</span> <span class="o">&lt;&lt;</span> <span class="n">cents</span><span class="p">.</span><span class="n">m_cents</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; cents &quot;</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">out</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>

<p>If we compile again, we will get another error:</p>
<div class="highlight"><pre><span></span><code>c:test.cpp(14) : error C2676: binary &#39;+=&#39; : &#39;Cents&#39; does not define this operator or a conversion to a type acceptable to the predefined operator
</code></pre></div>

<p>This error is actually being caused by the function template instance created when we call average(Cents*, int). Remember that when we call a templated function, the compiler “stencils” out a copy of the function where the template type parameters (the placeholder types) have been replaced with the actual types in the function call. Here is the function template instance for average() when T is a Cents object:</p>
<div class="highlight"><pre><span></span><code><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
<span class="n">Cents</span> <span class="n">average</span><span class="p">(</span><span class="n">Cents</span> <span class="o">*</span><span class="n">array</span><span class="p">,</span> <span class="kt">int</span> <span class="n">length</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Cents</span> <span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">count</span><span class="p">{</span> <span class="mi">0</span> <span class="p">};</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="o">++</span><span class="n">count</span><span class="p">)</span>
        <span class="n">sum</span> <span class="o">+=</span> <span class="n">array</span><span class="p">[</span><span class="n">count</span><span class="p">];</span>

    <span class="n">sum</span> <span class="o">/=</span> <span class="n">length</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">The</span> <span class="n">reason</span> <span class="n">we</span> <span class="n">are</span> <span class="n">getting</span> <span class="n">an</span> <span class="n">error</span> <span class="n">message</span> <span class="n">is</span> <span class="n">because</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="nl">line</span><span class="p">:</span>

<span class="err">```</span><span class="n">c</span><span class="o">++</span>
        <span class="n">sum</span> <span class="o">+=</span> <span class="n">array</span><span class="p">[</span><span class="n">count</span><span class="p">];</span>
</code></pre></div>

<p>In this case, sum is a Cents object, but we have not defined the += operator for Cents objects! We will need to define this function in order for average() to be able to work with Cents. Looking forward, we can see that average() also uses the /= operator, so we will go ahead and define that as well:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Cents</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">m_cents</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">Cents</span><span class="p">(</span><span class="kt">int</span> <span class="n">cents</span><span class="p">)</span>
        <span class="o">:</span> <span class="n">m_cents</span><span class="p">{</span> <span class="n">cents</span> <span class="p">}</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="k">friend</span> <span class="kt">bool</span> <span class="k">operator</span><span class="o">&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">c1</span><span class="p">.</span><span class="n">m_cents</span> <span class="o">&gt;</span> <span class="n">c2</span><span class="p">.</span><span class="n">m_cents</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">friend</span> <span class="n">std</span><span class="o">::</span><span class="n">ostream</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">out</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">cents</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">out</span> <span class="o">&lt;&lt;</span> <span class="n">cents</span><span class="p">.</span><span class="n">m_cents</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; cents &quot;</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">out</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">Cents</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">+=</span><span class="p">(</span><span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">cents</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">m_cents</span> <span class="o">+=</span> <span class="n">cents</span><span class="p">.</span><span class="n">m_cents</span><span class="p">;</span>
        <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">Cents</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">/=</span><span class="p">(</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">m_cents</span> <span class="o">/=</span> <span class="n">value</span><span class="p">;</span>
        <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>

<p>Finally, our code will compile and run! Here is the result:</p>
<p>11 cents</p>
<p>If this seems like a lot of work, that’s really only because our Cents class was so bare-bones to start. The key point here is actually that we didn’t have to modify average() at all to make it work with objects of type Cents (or any other type). We simply had to define the operators used to implement average() for the Cents class, and the compiler took care of the rest!</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../13.1-function-templates/" title="13.1 函数模板 Function templates" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                13.1 函数模板 Function templates
              </div>
            </div>
          </a>
        
        
          <a href="../13.3-template-classes/" title="13.3 模板类" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                13.3 模板类
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.c3dc8c49.min.js"></script>
      <script src="../../assets/javascripts/bundle.f9edbbd5.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.8e2cddea.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>